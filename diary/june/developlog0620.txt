개발 27일차
오늘은 체력이 좀 떨어져서 그런데 미생이란 만화드라마에서 주인공 아버지인가 할아버지 인가 주인공에게 했던말이 떠오른다.
모든 것은 체력이라고 문제를 해결할 수 없는건 해결 할만큼 붙잡을 체력이 없어서 그런것이라고 니가 자존심이 떨어지는 것도 자존심을 유지할 체력이 없어서 그런거라고
그말이 오늘은 내게 와닫는다. 체력이 없으면 매사가 힘들어진다. 체력을 길러야지 내 문제점 중 하나는 자존심이 떨어진다는 건데 이걸 해결할려면 해결할 수 있을 만큼
버틸 수 있는 체력이 있어야 한다. 그렇지 않으면 무기력 속에 빠져서 해결할 수 없으리.
 현 소켓 채팅 문제는 카드 창 크기의 고정이다. 입력창과 출력창이 고정되야 입력할때 입력칸을 찾아가지 않으며 출력할 때 스크롤를 만들고 최 하단을 찾아 갈 수 있다.
v-flex에 fill-height를 적용시켜 하위 v-card에게 height를 부여하니 높이가 height만큼 생겼다. 하지만 입력시켜 글들을 추가하면 자기 카드 크기를 스스로 늘려
별 의미 없게 되버렸다. 구성 구조들을 변경해야 할 것 같다. 이번엔 v-container로 해결책을 찾아볼 생각이다. 몇가지 시도를 계속해 봤지만 v-container는 height를
지정 할 수 없는 듯 하다. 공홈을 찾아보니 진짜 height를 지정할 수 없다. 다시 v-card로 돌아가야한다. 생각을 좀 해보니깐 80%로 맞췄을 때 기준이 되는 부모 컴포넌트가
어떤지 생각해보았다. 부모 컴포넌트 또한 스크롤을 가지고 있다. 그래서 생각난건데 부모의 overflow 만큼 자식 컴포넌트의 크기가 커지는 게 아닐까란 생각이 들었다.
아니면 v-flex의 fill-height란 옵션이 내가 생각햇던게 아니던가. 부모 컴포넌트가 늘어나는 문제 인듯 싶다. 내 생각에 맞는 채팅창을 만들려면 새로운 browserwindow를 
생성해야할 것같다. 점심 먹고 하자.
browserwindow를 생성하고 있지만 잘 안되는 걸로 봐선 browserwindow뿐만 아니라 다른 것도 고려해봐야겠다. browserwindow뿐만아니라 vue-router, vue, ipcrender같은
다른 api들도 새창을 열 수 있는 방법들이 있다. ipcMain과 ipcRender를 이용하고 vue router에서 router mode를 history변경 후 새로운 창을 여는데는 성공했으나 
App.vue에 포함된 채 나온다는 것이 문제이다. ChatWindow.vue만 나왔으면 좋겠는데 어떻게 해야 할까? 방법이 떠오르지 않는다. Path 문제일까? router-view 문제일까?
내 생각엔 router-view문제이다. router에서 등록한 Path로 갔더니 이러한 결과가 나오는 걸로 봐선 router가 Path를 app.vue안에 포함된 형태로 만든 것인거일테이니.
감정만 쌓이고 문제해결이 진행되지 않는다. 잠시 마음을 정리할 시간을 가져야겟다. 분명 방법이 있을 것이다. path 따라가면 결국 router-view로 통해 열리는 것인데
이 컴포넌트가 app.vue까지 같이 불러오는 것으로 보인다. 그렇다면 특정 path만 가져다 보이는 router-view를 신규 생성 할 수 없을까? router-view2 같이
그리서 이 router-view2는 ChatWindow.vue만 출력하는 것이다. 원인을 알았다. router객체가 main.js에서 App.vue를 components로 하는 vue 객체를 생성할 때 같이 들어간다. 
그래서 해당 path가 선언되어 있는 router 객체가 포함된 vue 객체를 불러오는 것이다. 그러면 내가 새로운 components와 새로운 router를 새로운 vue 객체를 생성해서 
새로운 templete에 mount 선언을 해야하는 것이다. 문제 해결을 위한 방법이 매우 매우 복잡해졌다. 고민할 시간이 필요하다. 그럼 내가 왜 새창을 띄울려고 하느냐하면
main쪽에서 scrolbar가 생성되 height가 유동적으로 커져서 chatting에서 고정적이면서 main에서는 유동적인 크기를 만들 수 없었다. 그리고 카카오톡처럼 대화창을
새로 생성하고 싶기도 했고, 카카오톡처럼 만들자가 목표가 되었다. 만약 새창을 만들지 못한다면 내가 새로운 채팅창을 디자인 할 수밖에 없다. 그렇다면 vue-router를
통하지 않고 vue를 연결시켜 새창으로 열 수 있지 않을까? 결국 있는 방법으로 해결해 보기로 하였다. 새로운 components와 새로운 router를 새로운 vue 객체를 생성해서 
새로운 templete에 mount 선언을 해야하는 것을 했는데 하면 할 수록 이건 아니라는 생각이 들었다. 진짜 한 화면내에 담을 수 없을까? 정말 간단하게 해결 할 수 있을 것 같은데
카톡처럼 만드는 것은 잠시 멈추고 딱하나만 집중하기로 하였다. 현 문제점인 유동적이되 고정적인 대화창 크기지정이다. 목적을 하나로 줄이고 집중해서 일까 나는
이것에 대한 해결책을 발견할 수 있었다. 놀랍게도 style안에 {{}} 구문으로 변수의 동적할당이 가능했고 이걸 통해 나는 vue 크기에 따른 크기 고정이 가능해 졌다.
이제 새로운 글이 생길때마다 창 하단을 focus하기만 하면 된다. 오늘 오늘 이것만 딱 하고 깔끔하게 이번주를 마무리할려고 한다. 방법을 찾았다 완벽하지는 않지만 
될 수 있다. 해당 id의 객체를 가져와서 scrolltop 요소의 값을 scrollbottom의 요소의 값으로 바꿔주면 스크롤 하단으로 내려가는 방법이다. 문제는 webpack rendering이후
적용이 되야 되는데 그렇지 않아서 최하단을 나타내진 않는다. $nextTick이란 걸 이용해 봐도 안된다. nextTick이란 개념 이해가 부족하다고 생각하고 좀 더 찾아 보았다.
예시에서 제시했던 방식보다 좀 더 알맞는 선언 위치를 찾다 보니 결국 찾았다. 드디어 깔끔하게 작동한다. 오늘 깔끔하게 갈 수 있겠다.



 